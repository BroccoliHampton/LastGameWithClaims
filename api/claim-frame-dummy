module.exports = async function handler(req, res) {
  console.log("[claim-dummy] /api/claim-frame-dummy called")

  try {
    const PUBLIC_URL = process.env.PUBLIC_URL || "https://last-game-kappa.vercel.app"
    const GAME_URL = process.env.GAME_URL || "https://your-game-url.com"

    // Simple dummy frame for testing
    const html = `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Claim Coming Soon</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
    }
    .container {
      padding: 2rem;
      max-width: 500px;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: #ffd700;
    }
    p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      opacity: 0.9;
      line-height: 1.6;
    }
    .status {
      background: rgba(255, 255, 255, 0.2);
      padding: 1rem;
      border-radius: 12px;
      margin-top: 2rem;
    }
  </style>
  
  <!-- Farcaster Frame Meta Tags -->
  <meta property="fc:frame" content="vNext" />
  <meta property="fc:frame:image" content="https://i.imgur.com/placeholder.png" />
  <meta property="fc:frame:image:aspect_ratio" content="1:1" />
  <meta property="fc:frame:button:1" content="Play Again" />
  <meta property="fc:frame:button:1:action" content="link" />
  <meta property="fc:frame:button:1:target" content="${GAME_URL}" />
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Claim Coming Soon!" />
  <meta property="og:description" content="Daily USDC rewards coming soon" />
</head>
<body>
  <div class="container">
    <h1>üéÆ</h1>
    <h2>Game Over!</h2>
    <p><strong>This is where the claim feature will be!</strong></p>
    <p>Soon you'll be able to claim 0.05 USDC every 24 hours.</p>
    
    <div class="status">
      ‚úÖ Redirect from game working!<br>
      ‚è≥ Waiting for smart contract deployment<br>
      üéØ Click "Play Again" to return to game
    </div>
  </div>
</body>
</html>`

    console.log("[claim-dummy] Dummy claim frame displayed")

    res.setHeader("Content-Type", "text/html; charset=utf-8")
    res.setHeader("Cache-Control", "no-cache, no-store, must-revalidate")
    res.status(200).send(html)

  } catch (e) {
    console.error("[claim-dummy] Error in dummy claim frame:", e.message)
    res.status(500).send(`Error: ${e.message}`)
  }
}








